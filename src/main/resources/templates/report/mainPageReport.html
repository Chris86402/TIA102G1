<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>報表分析管理</title>

		<!-- header-css etc. -->
		<head th:insert="~{/comPage1}"></head>	

	</head>
	
	<body class="hold-transition sidebar-mini layout-fixed">

	<!-- side bar -->
	<body th:insert="~{/comPage2}"></body>
	
	<!-- Content Wrapper. Contains page content -->
    <!-- 儀錶板上面那排 -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0">報表分析管理</h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a th:href="@{/}">首頁</a></li>
                <li class="breadcrumb-item active">報表分析管理</li>
              </ol>
            </div><!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->

	<!-- 功能內容開始 -->
	<section class="content">
	<div class="container">
        <div class="btn-group">
            <button type="button" onclick="showChart('sales')">訂單狀態金額統計</button>
            <button type="button" onclick="showChart('product')">商品銷售統計</button>
        </div>
    </div>  
    <div class="container">
        <img id="salesChartImage" th:if="${chartPath != null and chartPath != ''}" th:src="@{${chartPath}}" alt="Sales Chart" style="display:none;">
        <img id="productChartImage" th:if="${productChartPath != null and productChartPath != ''}" th:src="@{${productChartPath}}" alt="Product Chart" style="display:none;">
    </div> 
	<div th:if="${errorMessage}" class="alert alert-danger">
	    <p th:text="${errorMessage}"></p>
	</div>
	
	</section>
	
	 <script>
	     function showChart(chartType) {
	         if (chartType === 'sales') {
	             document.getElementById('salesChartImage').style.display = 'block';
	             document.getElementById('productChartImage').style.display = 'none';
	         } else if (chartType === 'product') {
	             document.getElementById('salesChartImage').style.display = 'none';
	             document.getElementById('productChartImage').style.display = 'block';
	         }
	     }
	
	     // 頁面載入時顯示預設圖表
	     window.onload = function() {
	         showChart('sales');
	     };
    </script>
	 
	<!-- footer and script link -->
	<body th:insert="~{/comPage3}"></body>

	</body>
</html>